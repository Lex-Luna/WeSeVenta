CREATE TABLE dbo.ventas (
    id BIGINT IDENTITY(1,1) NOT NULL PRIMARY KEY,
    fecha_venta DATETIME NOT NULL,
    total DECIMAL(18,2) NOT NULL
);

CREATE TABLE dbo.concepto (
    id BIGINT IDENTITY(1,1) NOT NULL PRIMARY KEY,
    id_venta BIGINT NOT NULL,
    cantidad INT NOT NULL,
    precio_unitario DECIMAL(18,2) NOT NULL,
    importe DECIMAL(18,2) NOT NULL,
    id_producto BIGINT NOT NULL,
    CONSTRAINT FK_concepto_venta FOREIGN KEY (id_venta) REFERENCES dbo.ventas(id)
);

CREATE TABLE dbo.producto (
    id BIGINT IDENTITY(1,1) NOT NULL PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL,
    precio_unitario DECIMAL(18,2) NOT NULL,
    costo DECIMAL(18,2) NOT NULL
);

ALTER TABLE dbo.concepto
ADD CONSTRAINT FK_concepto_producto
    FOREIGN KEY (id_producto) REFERENCES dbo.producto(id);
    

CREATE TABLE dbo.cliente (
    id BIGINT IDENTITY(1,1) NOT NULL PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL
);


ALTER TABLE dbo.ventas
ADD id_cliente BIGINT NOT NULL;


ALTER TABLE dbo.ventas
ADD CONSTRAINT FK_ventas_cliente
    FOREIGN KEY (id_cliente) REFERENCES dbo.cliente(id);

